TField "intro" (Chunk "<span id=\"docs-internal-guid-27dd5648-3846-65cb-9643-e66485bf56f7\"><font size=\"2\" face=\"helvetica\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\"><br></span></p><h1><span style=\"vertical-align: baseline; white-space: pre-wrap;\">So what is MFlow?</span></h1><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">MFlow Web applications are much like console applications. You just write an ordinary sequential program with inputs, outputs and control statements where the inputs and outputs are web pages. MFlow will run the sequence forward and backward depending on your input to find the appropriate location in the sequence to respond your query.&nbsp;</span></p><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\"><br></span></p><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Other frameworks try to do it with heavy page state or execution state snapshots That is too bad for scalability and this has limited the acceptance of this model for large scale web applications. MFlow works just in the same way people would read a recipe: Each person look for instructions forward or backward until they find the correct point in the sequence appropriate for his state in the cooking process. To know his state, the people remember the name of the steps already done, but not the details of each step. That is exactly what MFlow does. All is pure tracking, backtracking, matching and event logging. </span></p><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\"><br></span></p><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Additionally MFlow has nice unique features for the creation of rich and dynamic applications: widgets can exhibit dinamic behaviours and refresh independently on their own. The code for these dynamic widgets are, again much like console applications. With a few changes, a multi-page application can be converted into a dynamic auto-refreshed widget that can be inserted in a page along with others.</span></p><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\"><br></span></p><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">MFlow is the only Web Framework that uses matching of requests and true backtracking as the mechanism for browser-server synchronization. Each link or form in the page return type safe responses. The navigation is also type safe since it is encoded within a monadic procedure. The server process ever synchronize with the browser request. There are no sequence errors. The page is composed of reusable type-safe components called widgets that may change their rendering depending o the user responses by auto refreshing themselves &nbsp;without using JavaScript. Since the navigation is coded as a normal procedure under the navigation monad, any navigation sequence can be reusable. Deployment and configuration is reduced to zero. The elements can work together if they type-check.</span></p></font><font size=\"2\" face=\"helvetica\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><h1><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Goals:</span></h1><ul style=\"margin-top: 0pt; margin-bottom: 0pt;\"><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify;" (Chunk " line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">To invert back the inversion of control of web applications and turn web programming into ordinary, intuitive, imperative-like, programming, as seen by the programmer.</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">At the same time, to maintain for the user all the freedom that he has in web applications. Back buttons, bookmarked URLs must work.</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">For scalability-sensitive applications, to avoid the fat state snapshots that continuation based frameworks need to cope with these two previous requirements. State replication and horizontal scalability must be possible.</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">For REST advocates, to maintain the elegant notation of REST URLs and the statelessness of GET requests.</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">For expert haskell programmers, to reuse the already existent web libraries and techniques.</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">For beginner programmers and for Software Engineers, to provide with a high level DSL of reusable, self contained widgets for the user interface, and multipage procedures that can work together provided that they statically typecheck, with zero configuration.</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">For highly interactive applications, to give dynamic widgets that have their own dynamic behaviors in the page, and communicate themselves without the need of explicit JavaScript programming.</span></p></li></ul><div style=\"text-align: justify;\"><br></div><div style=\"text-align: justify;\"><h1 style=\"text-align: start;\"><span style=\"white-space: pre-wrap;\">What is new?</span></h1><div><span style=\"white-space: pre-wrap;\">8/27/13</span></div><div style=\"text-align: start;\"><span style=\"white-space: pre-wrap;\">This </span><a href=\"https://github.com/agocorona/MFlow\" title=\"\" target=\"\" style=\"white-space: pre-wrap;\">last release</a><span style=\"white-space: pre-wrap;\">, has a wonderful and improved content management  system. Instead of static templates, MFlow content can be changed at runtime. All this page has been generated at runtime. I\195\130\194\180m typing this over the application running. The programmer can specify for each content, which user can modify it. Now each content has a full text editor, it can upload images and can edit large chunks of text. See  the</span><a href=\"http://localhost/noscript/textedit\" title=\"\" target=\"\" style=\"white-space: pre-wrap;\"> content management </a><span style=\"white-space: pre-wrap;\">example</span></div></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><h1><span style=\"color: rgb(102, 102, 102); vertical-align: baseline; white-space: pre-wrap;\">How it works:</span></h1><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">MFlow solves the first goals using an innovative approach. The routes are expressed as normal, monadic haskell code in the navigation monad. Local links point to alternative routes within this monadic computation just like a textual menu in a console application with print and read can redirect to one or other code depending on the user input. But unlike in the case of a console application the user ever has te option of press the back button and go back go to the menu back again. Any GET page is directly reachable by means of an URL.</span></p><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">At any moment the flow can respond to the back button or to any RESTful path that the user may paste in the navigation bar. If the procedure is waiting for another different page, the navigation monad backtrack until the path partially match. From this position on, the execution goes forward until the rest of the path match. Thus, no matter the previous state of the server process, it recover the state of execution appropriate for the request. This way the server process is virtually stateless for any GET request. However, it is possible to store a session state, which may backtrack or not when the navigation goes back and forth. It is up to the programmer to decide. </span></p><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">When the state matters, and user interactions can last for long, such are shopping carts, it uses a log for thread state persistence. The server process shut itself down after a programmer defined timeout. Once a new request of the same user arrive, the log is used to recover the process state. There is no need to store a snapshot of every continuation, just the result of each step. As a result, the overhead of state synchronization with persistent storage and among machines is light. The memory footprint is also low since the timeout-recovery mechnism clear the idle processes from memory.</span></p><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><h3 dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 8pt; margin-bottom: 0pt;\"><span style=\"color: rgb(102, 102, 102); vertical-align: baseline; white-space: pre-wrap;\">Data tier:</span></h3><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">State consistence and transactions are given by the </span><a href=\"http://hackage.haskell.org/package/TCache\" style=\"text-decoration:none;\"><span style=\"color: rgb(17, 85, 204); text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;\">TCache </span></a><span style=\"vertical-align: baseline; white-space: pre-wrap;\">package.</span></p><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline;\"><div style=\"text-align: justify;\"><br></div></span><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">It is data cache within the STM monad (Software Transactional Memory). Serialization and deserialization of data is programmer defined, so it can adapt it to any database, although any other database interface can be used. Default persistence in files comes out of the box for rapid development purposes.</span></p><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><h3 dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 8pt; margin-bottom: 0pt;\"><span style=\"color: rgb(102, 102, 102); vertical-align: baseline; white-space: pre-wrap;\">Widgets:</span></h3><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">The processes interact through widgets, that are an extension of formlets with additional applicative combinators , formatting, link management, callbacks, modifiers, caching and AJAX. All is coded in pure haskell. Each widget return statically typed data. They can dynamically modify themselves using AJAX internally (Just prefix it with autorefresh). They are auto-contained: they may include their own JavaScript code, server code and client code in a single pure Haskell procedure that can be combined with other widgets with no other external configuration needed.</span></p><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">To combine widgets, applicative combinators are used. Widgets with dynamic behaviours can use the monadic syntax and callbacks.</span></p><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><h3 dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 8pt; margin-bottom: 0pt;\"><span style=\"color: rgb(102, 102, 102); vertical-align: baseline; white-space: pre-wrap;\">Modularity:</span></h3><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">The interfaces and communications are abstract, but there are bindings for blaze-html, HSP, Text.XHtml and byteString, Hack and WAI but it can be extended to non Web based architectures.</span></p><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">It is designed for applications that can be run with no deployment within runghc in order to speed up the development process. see </span><a href=\"http://haskell-web.blogspot.com.es/2013/05/a-web-application-in-tweet.html\" style=\"text-decoration:none;\"><span style=\"color: rgb(17, 85, 204); text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;\">this</span></a><span style=\"vertical-align: baseline; white-space: pre-wrap;\">.</span></p><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><h3 dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 8pt; margin-bottom: 0pt;\"><span style=\"color: rgb(102, 102, 102); vertical-align: baseline; white-space: pre-wrap;\">Features:</span></h3><div style=\"text-align: justify;\"><br></div><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span><ul style=\"margin-top: 0pt; margin-bottom: 0pt;\"><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><a href=\"http://haskell-web.blogspot.com.es/2013/07/maxwell-smart-push-counter.html\" style=\"text-decoration:none;\"><span style=\"color: rgb(17, 85, 204); text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;\">Push widgets</span></a></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><a href=\"http://haskell-web.blogspot.com.es/2013/07/automatic-error-trace-generation-in.html\" style=\"text-decoration:none;\"><span style=\"color: rgb(17, 85, 204); text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;\">Complete execution traces for errors</span></a><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Full </span><a href=\"http://haskell-web.blogspot.com.es/2013/07/the-web-navigation-monad.html\" style=\"text-decoration:none;\"><span style=\"color: rgb(17, 85, 204); text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;\">REST</span></a><span style=\"vertical-align: baseline; white-space: pre-wrap;\"> compliance</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><a href=\"http://haskell-web.blogspot.com.es/2013/06/and-finally-widget-auto-refreshing.html\" style=\"text-decoration:none;\"><span style=\"color: rgb(17, 85, 204); text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;\">Automatic, independent refreshing of widgets via Ajax</span></a><span style=\"vertical-align: baseline; white-space: pre-wrap;\"></span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Besides applicative syntax (declarative-like) each widget can use the monadic syntax (imperative-like) so widgets can express </span><a href=\"http://haskell-web.blogspot.com.es/2013/06/the-promising-land-of-monadic-formlets.html\" style=\"text-decoration:none;\"><span style=\"color: rgb(17, 85, 204); text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;\">their own behaviour and can run its own independent page flow</span></a><span style=\"vertical-align: baseline; white-space: pre-wrap;\">. </span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><a href=\"http://haskell-web.blogspot.com.es/2013/06/callbacks-in-mflow.html\" style=\"text-decoration:none;\"><span style=\"color: rgb(17, 85, 204); text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;\">Widget callbacks</span></a><span style=\"vertical-align: baseline; white-space: pre-wrap;\">, used in page flows, that change the rendering of the widget </span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">widget actions that initiate a new page navigation when a widget is validated</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Widgets in modal and non modal dialogs (using jQuery dialog)</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Other jQuery widgets as MFlow widgets</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">WAI integration</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Basic content management and internationalization</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">blaze-html support</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Ajax</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">User-defined data in sessions</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Widget requirements for automatic installation of scripts, CSS and server flows.</span></p></li><li dir=\"ltr\" style=\"list-style-type: disc; vertical-align: baseline;\"><p dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 0pt; margin-bottom: 0pt;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Transparent back button management</span></p></li><li dir=\"ltr\" style=\"text-align: justify; list-style-type: disc; vertical-align: baseline;\"><span style=\"vertical-align: baseline; white-space: pre-wrap;\">Cached widgets</span></li></ul><div style=\"text-align: justify;\"><span style=\"white-space: pre-wrap;\"><br></span></div><div style=\"text-align: justify;\"><h3 dir=\"ltr\" style=\"text-align: justify; line-height: 1.15; margin-top: 8pt; margin-bottom: 0pt;\"><span style=\"color: rgb(102, 102, 102); vertical-align: baseline; white-space: pre-wrap;\">Links:</span></h3></div><div><p style=\"text-align: justify;\"><a href=\"http://localhost/html/MFlow/index.html\">MFlow package description and documentation</a></p><p style=\"text-align: justify;\"><a href=\"https://github.com/agocorona/MFlow/blob/master/Demos\">see demos source code</a></p><p style=\"text-align: justify;\"><a href=\"https://github.com/agocorona/MFlow/issues\">bug tracker</a></p><p style=\"text-align: justify;\"><a href=\"https://github.com/agocorona/MFlow\">source repository</a></p><p style=\"text-align: justify;\"><a href=\"http://hackage.haskell.org/package/MFlow\">Hackage repository</a></p></div></font></span>" Empty))