This widget run fully on the browser:<br><br><br>
<div id="idelem"><div id="p0">first number  <input type="text" id="p1" value=""><br>second number <input type="text" id="p2" value=""><br></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3old"></div><div id="p3">result: <b>3</b></div></div>
<script src="/browserwidget.js" type="text/javascript"></script>
<br><br>Sorry. I did not care about the layout. For now.<br><br>The source of this widget is as follows:<br><br><div><pre style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 12px; margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); line-height: 18px;"><div class="line" id="LC10" style="box-sizing: border-box; padding-left: 10px; height: 18px;"><br></div><div class="line" id="LC14" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">sum</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">::</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">View</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">JSBuilder</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">IO</span> <span class="nb" style="box-sizing: border-box; color: rgb(0, 134, 179);">()</span></div><div class="line" id="LC15" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">sum</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">=</span> <span class="kr" style="box-sizing: border-box; font-weight: bold;">do</span></div><div class="line" id="LC16" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">r</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">norefresh</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="p" style="box-sizing: border-box;">(</span><span class="o" style="box-sizing: border-box; font-weight: bold;">+</span><span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC17" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;$&gt;</span> <span class="n" style="box-sizing: border-box;">fromStr</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"first number  "</span></div><div class="line" id="LC18" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o" style="box-sizing: border-box; font-weight: bold;">++&gt;</span> <span class="n" style="box-sizing: border-box;">inputInt</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Nothing</span> <span class="p" style="box-sizing: border-box;">`</span><span class="n" style="box-sizing: border-box;">raiseEvent</span><span class="p" style="box-sizing: border-box;">`</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">OnKeyUp</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC19" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;*&gt;</span> <span class="n" style="box-sizing: border-box;">fromStr</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"second number "</span></div><div class="line" id="LC20" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o" style="box-sizing: border-box; font-weight: bold;">++&gt;</span> <span class="n" style="box-sizing: border-box;">inputInt</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Nothing</span> <span class="p" style="box-sizing: border-box;">`</span><span class="n" style="box-sizing: border-box;">raiseEvent</span><span class="p" style="box-sizing: border-box;">`</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">OnKeyUp</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC21" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">refresh</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">fromStr</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"result: "</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">++&gt;</span>  <span class="n" style="box-sizing: border-box;">b</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">show</span> <span class="n" style="box-sizing: border-box;">r</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">++&gt;</span> <span class="n" style="box-sizing: border-box;">noWidget</span></div><div class="line" id="LC22" style="box-sizing: border-box; padding-left: 10px; height: 18px;"><br></div><div class="line" id="LC22" style="box-sizing: border-box; padding-left: 10px; height: 18px;"><br></div></pre></div><div>This widget executes fully in the browser.</div><div><br></div><div>You can see the package<a href="https://github.com/agocorona/haskell-js-reactive-widgets" title="" target=""> Haskell-js-reactive-widgets</a> that implement the browser widgets.</div><div><br></div><div>It has been compiler with <a href="https://github.com/valderman/haste-compiler" title="" target="">Haste</a> and uses the Haste DOM internally. And also my <a href="https://github.com/agocorona/haskell-js-html-builder" title="" target="">haskell-js-html-builder</a> library, that gives monoid and monad instances to Haste.DOM Elem's, so that a syntax similar to blaze-html can be used in the browser to create HTML elements.</div><div><br></div><div>It uses the same &nbsp;View monad that MFlow uses to compose pages, and also uses the same widget definitions.&nbsp;<span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre;">inputInt===getInt</span><br><br></div><div><b>So you can develop a widget and later decide either to run it in the browser or in the server by changing the type signature.</b></div><div><br></div><div>Moreover, the widget uses some reactive sentences (that can be ported also to the server widgets). &nbsp;Once a event is raised, the widget is executed.</div><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre;"> <br></span><div>The code is more concise and understandable than in other reactive browser frameworks and it is mode dynamic since the browser creates his own rendering at runtime, This widget does not rely on an external HTML template.</div><div><br></div><div>This is the beginning. The idea is to integrate it in MFlow by means of widget modifier that will run in the browser or in the server &nbsp;automatically, and will return the result to the server once it validates.&nbsp;</div><div><br></div><div>The browser widgets can be used alone, outside of MFlow of course. The widget is a javascript file.</div>