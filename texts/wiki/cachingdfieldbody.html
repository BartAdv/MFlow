<p style="word-wrap: break-word;"><font face="arial"><span style="white-space: pre-wrap;">When I wrote "How to solve the integration problem" in which I assimilate web development to a general integration problem, I was not fully conscious of how true it is, and how web development is becoming increasingly a problem of integration of different technologies, paradigms and applications and that is how consciously or unconsciously web developpers build web applications now. </span></font></p><p style="word-wrap: break-word; white-space: pre-wrap;"><font face="arial">But that view of Web development as essentially the problem of the development of two or three independent applications: one in the browser, other in the server and maybe another in the database plus a dozen configurations that glue these things togeter. That negates a higher level paradigm of what is the composition of the three, and this higher level entity, the web application as such becomes a no man´s land. That leaves essentially unresolved the problem of creating a true web framework, that is ,a framework in which the fundamental building block with which to compose web applications  has data, navigation presentation and storage fused on itself. </font></p><p style="word-wrap: break-word; white-space: pre-wrap;"><font face="arial">The situation is similar to the time when there were only batch systems.  There was no unification of input and output. the user may edit a job in the console, or in a set of punched cards. The output of he job, in a printer. there were no interactive input-output. there were a input program, a processing program and a printing program. The applications ran essentially in the same way as stateless web servers. Then, interaction was added. both input and output streams were intermixed. state was added. Each programming component may alternate repeated input and output interactions.  These components had a higher level. When there were only batch compilers, then there were development environments, shells, games etc. The programmer managed abstractions in terms of the problem not in terms of the phase in the process in which the batch was executing and the hardware needs.  That was because a new composable piece was found: the IO procedure, that combined input and output. And a new kind of application: the interactive application. or the application as we know it. </font></p><p style="word-wrap: break-word; white-space: pre-wrap;"><font face="arial">But essentially the IO procedure was the combination of small batch programs: OS calls or library calls. The question is that we don´t think on them as programs. we are so accustomed to work at a higher level that we not even consider that. Can we do the same for the Web?</font></p><p style="word-wrap: break-word;"><font face="arial"><span style="white-space: pre-wrap;">That is not only possible, but highly desirable. If the fused building block is composable, we would have the Rosetta Stone of integration, a new unified language upon which to talk at a higher level with the machines for building web applications and since web applications are a particular kind of application integration, we can extend it to any kind of integration problem.,</span></font></p><font face="arial"><span style="white-space: pre-wrap;">Furthermore, </span></font><span style="white-space: pre-wrap; font-family: arial;">if the building block and the composition make use of well known paradigms then the task of making that language understandable becomes far far more easy. &nbsp;</span><font face="arial"><span style="white-space: pre-wrap;"><br></span></font><p style="word-wrap: break-word;"><span style="white-space: pre-wrap; font-family: arial;">In the article mentioned above,&nbsp;I claim that MFlow has it.  The </span><span style="font-family: arial; white-space: pre-wrap;">MFlow building blocks are the widgets and the flow elements, flowlets. A widget is an applicative or monadic piece of code running in a monad with  a parser of request parameters and a writer of HTML code. It combines the creation of rendering, request processing and storage management in a single atomic composable element. A flowlet manage repetitive flows of pages with automatic persistent or transient state management. </span></p><p style="word-wrap: break-word;"><span style="font-family: arial; white-space: pre-wrap;">People that know to use parsec will find natural how the MFlow monadic widgets works. People that know how to use formlets will find natural how applicative widgets behave.&nbsp; If an user know how to create imperative code, he can create a flow of pages.</span></p><p style="word-wrap: break-word;"><span style="font-family: arial; white-space: pre-wrap;">And the deep fusion of elements will give the opportunity to create easier solutions to known problems.</span></p><p style="word-wrap: break-word;">Take for example dField. it can work in two ways:. The parameter of dField is a widget. If return the result of the widget execution transparently, &nbsp;the request is trough Ajax in a single page application, then the response will be a piece of javascript code that will set the placeholder in the page with the content returned by the widget. this code will be executed in the client.&nbsp;</p><p style="word-wrap: break-word;">witerate is the call that will send all the links and form posts as AJAX requests for the widget passed as parameter. so a widget prefixed with witerate and with dField elements will send request and will update their placeholders without forcing page navigation.</p><p style="word-wrap: break-word;"></p><p style="word-wrap: break-word;"><font face="arial"><span style="white-space: pre-wrap;">Take for example this code from this page</span></font></p><font face="arial"><span style="white-space: pre-wrap;"><a href="/noscript/templates/runtimetemplates/listnames" title="" target="">/noscript/templates/runtimetemplates/listnames</a>

It present data from the server. It uses witerate applied to a widget with four fields that are updated when one of two links are pressed trough AJAX. the placeholders updated are the ones enclosed by dField.  The page as a whole is not updated. </span></font><font face="arial"><span style="white-space: pre-wrap;">
 
</span></font><pre style="word-wrap: break-word; white-space: pre-wrap;"><pre style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); line-height: 18px;"><div class="line" id="LC104" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;<span class="n" style="box-sizing: border-box;">iterateResults</span> <span class="n" style="box-sizing: border-box;">allnames</span> <span class="n" style="box-sizing: border-box;">len</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">=</span> <span class="n" style="box-sizing: border-box;">pageFlow</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"iter"</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">witerate</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="kr" style="box-sizing: border-box; font-weight: bold;">do</span></div><div class="line" id="LC105" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">NextReg</span> <span class="n" style="box-sizing: border-box;">ind</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">getSessionData</span> <span class="p" style="box-sizing: border-box;">`</span><span class="n" style="box-sizing: border-box;">onNothing</span><span class="p" style="box-sizing: border-box;">`</span> <span class="n" style="box-sizing: border-box;">return</span> <span class="p" style="box-sizing: border-box;">(</span><span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">NextReg</span> <span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">0</span><span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC106" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">dField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">getData</span>  <span class="n" style="box-sizing: border-box;">ind</span>    <span class="n" style="box-sizing: border-box;">len</span> <span class="n" style="box-sizing: border-box;">allnames</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC107" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">dField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">getData</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">ind</span><span class="o" style="box-sizing: border-box; font-weight: bold;">+</span><span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">1</span><span class="p" style="box-sizing: border-box;">)</span> <span class="n" style="box-sizing: border-box;">len</span> <span class="n" style="box-sizing: border-box;">allnames</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC108" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">dField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">getData</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">ind</span><span class="o" style="box-sizing: border-box; font-weight: bold;">+</span><span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">2</span><span class="p" style="box-sizing: border-box;">)</span> <span class="n" style="box-sizing: border-box;">len</span> <span class="n" style="box-sizing: border-box;">allnames</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC109" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">dField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">getData</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">ind</span><span class="o" style="box-sizing: border-box; font-weight: bold;">+</span><span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">3</span><span class="p" style="box-sizing: border-box;">)</span> <span class="n" style="box-sizing: border-box;">len</span> <span class="n" style="box-sizing: border-box;">allnames</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC110" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">setSessionData</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">.</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">NextReg</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">next</span> <span class="n" style="box-sizing: border-box;">ind</span> <span class="n" style="box-sizing: border-box;">len</span></div><div class="line" id="LC111" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">r</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">wlink</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">True</span>  <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span> <span class="n" style="box-sizing: border-box;">b</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"next"</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">fromStr</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">" "</span></div><div class="line" id="LC112" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;|&gt;</span></div><div class="line" id="LC113" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">wlink</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">False</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span> <span class="n" style="box-sizing: border-box;">b</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"prev"</span></div><div class="line" id="LC114" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">when</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">r</span><span class="o" style="box-sizing: border-box; font-weight: bold;">==</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">False</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">setSessionData</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">.</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">NextReg</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span>  <span class="n" style="box-sizing: border-box;">prev</span> <span class="n" style="box-sizing: border-box;">ind</span> <span class="n" style="box-sizing: border-box;">len</span></div></pre></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;"><br></span></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;"><span style="font-family: arial; font-size: 14.545454025268555px;">The HTML code generated is as such:</span><br></span></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">p0iter</span>"&gt;</span></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;">   &lt;span <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">p1iter</span>"&gt;</span><span style="font-size: medium;">a</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/span&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;br&gt;</span></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;">   &lt;span <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">p2iter</span>"&gt;</span><span style="font-size: medium;">b</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/span&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;br&gt;</span></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;">   &lt;span <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">p3iter</span>"&gt;</span><span style="font-size: medium;">c</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/span&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;br&gt;</span></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;">   &lt;span <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">p4iter</span>"&gt;</span><span style="font-size: medium;">d</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/span&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;br&gt;</span></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;">   &lt;span <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">p5iter</span>"&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://localhost/noscript/templates/runtimetemplates/listnames/iter4">/noscript/templates/runtimetemplates/listnames/t</a>rue"&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;b&gt;</span><span style="font-size: medium;">next</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/b&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/a&gt;</span><span style="font-size: medium;"> </span><span class="webkit-html-tag" style="font-size: medium;">&lt;/span&gt; </span></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;">   &lt;span <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">p6iter</span>"&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://localhost/noscript/templates/runtimetemplates/listnames/iter-4">/noscript/templates/runtimetemplates/listnames/f</a>alse"&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;b&gt;</span><span style="font-size: medium;">prev</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/b&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/a&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/span&gt;</span><span class="webkit-html-tag" style="font-size: medium;">&lt;/div&gt;</span><br></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;"><br></span></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><span class="webkit-html-tag" style="font-size: medium;"><font face="arial" style="font-size: 14.545454025268555px; white-space: normal;"><span style="white-space: pre-wrap;">dField return a page with each new content for the placeholders, that is executed:

</span></font><pre style="word-wrap: break-word; white-space: pre-wrap;">setId('p1iter','e');
setId('p2iter','f');
setId('p3iter','g');
setId('p4iter','h');</pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><br></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"></pre><span style="font-size: 14.545454025268555px; font-family: arial;">However each click generates a request to the server. Even if the  request has been served already.  We can cache the javascript responses using the HTTP cache, so the above javascript code can be recovered locally when the user press the <i>prev </i>link.</span><font face="arial" style="font-size: 14.545454025268555px; white-space: normal;"><span style="white-space: pre-wrap;">
</span></font></span></pre><div><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;">But if we tailor the caching policy for this widget behaviour, maybe we can not mix it with other widgets that demand a more strict or relaxed policy. We can not do it in a fully composable way if we rely on the raw HTTP headers. We need to fuse the caching policy inside the building block, the widget. then each widget will express its caching needs in the page and later a caching compiler will decide which caching policy is adequate for all the widgets in the page.&nbsp;</span></span></div><div><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;"><br></span></span></div><div><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;">For example, if for some reasons this widget is in a page with another widget that demand no caching at all, the compiler will obey this more restrictive policy. This widget will not benefit from caching but it will work well. Otherwise, the caching demand &nbsp;will be honored and the data presentation will work as optimally for the server load as a javascript framework with &nbsp;HTML5 cache would do, with the advantage that we use out well tested HTTP cache.</span></span></div><div><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;"><br></span></span></div><div><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;">Since this widget uses Ajax, his caching policy will not interfere with the other widgets. Only when the whole page is sent, in the first invocation or &nbsp;when Javascript is disabled, the whole page will be sent and the policies will be mixed.</span></span></div><div><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;"><br></span></span></div><div><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;">Additionally each chunk of responses will need to have its own distinctive link. If you look at the HTML generated in the original code, the links are two for all the chunks: true and false. Now we need to generate the link names dinamically, two different for each chunk since the HTTP cache distinguish each entry &nbsp;in the cache by the link URL.&nbsp;</span></span></div><div><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;"><br></span></span></div><div><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;">How? with dField:</span></span></div><pre style="word-wrap: break-word; white-space: pre-wrap;"><pre style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace; margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); line-height: 18px;"><div class="line" id="LC108" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;<span class="n" style="box-sizing: border-box;">iterateResults</span> <span class="n" style="box-sizing: border-box;">allnames</span> <span class="n" style="box-sizing: border-box;">len</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">=</span> <span class="n" style="box-sizing: border-box;">pageFlow</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"iter"</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">.</span> <span class="n" style="box-sizing: border-box;">witerate</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="kr" style="box-sizing: border-box; font-weight: bold;">do</span></div><div class="line" id="LC109" style="box-sizing: border-box; padding-left: 10px; height: 18px;"><span style="white-space: pre-wrap;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="n" style="white-space: pre-wrap; box-sizing: border-box;">maxAge</span><span style="white-space: pre-wrap;"> </span><span class="mi" style="white-space: pre-wrap; box-sizing: border-box; color: rgb(0, 153, 153);">300</span><br></div><div class="line" id="LC111" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">NextReg</span> <span class="n" style="box-sizing: border-box;">ind</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">getSessionData</span> <span class="p" style="box-sizing: border-box;">`</span><span class="n" style="box-sizing: border-box;">onNothing</span><span class="p" style="box-sizing: border-box;">`</span> <span class="n" style="box-sizing: border-box;">return</span> <span class="p" style="box-sizing: border-box;">(</span><span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">NextReg</span> <span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">0</span><span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC112" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">dField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">getData</span>  <span class="n" style="box-sizing: border-box;">ind</span>    <span class="n" style="box-sizing: border-box;">len</span> <span class="n" style="box-sizing: border-box;">allnames</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC113" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">dField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">getData</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">ind</span><span class="o" style="box-sizing: border-box; font-weight: bold;">+</span><span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">1</span><span class="p" style="box-sizing: border-box;">)</span> <span class="n" style="box-sizing: border-box;">len</span> <span class="n" style="box-sizing: border-box;">allnames</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC114" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">dField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">getData</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">ind</span><span class="o" style="box-sizing: border-box; font-weight: bold;">+</span><span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">2</span><span class="p" style="box-sizing: border-box;">)</span> <span class="n" style="box-sizing: border-box;">len</span> <span class="n" style="box-sizing: border-box;">allnames</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC115" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">dField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">getData</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">ind</span><span class="o" style="box-sizing: border-box; font-weight: bold;">+</span><span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">3</span><span class="p" style="box-sizing: border-box;">)</span> <span class="n" style="box-sizing: border-box;">len</span> <span class="n" style="box-sizing: border-box;">allnames</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span></div><div class="line" id="LC116" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">setSessionData</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">.</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">NextReg</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">next</span> <span class="n" style="box-sizing: border-box;">ind</span> <span class="n" style="box-sizing: border-box;">len</span></div><div class="line" id="LC117" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">r</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">dField</span><span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">wlink</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">next</span> <span class="n" style="box-sizing: border-box;">ind</span> <span class="n" style="box-sizing: border-box;">len</span><span class="p" style="box-sizing: border-box;">)</span>  <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span> <span class="n" style="box-sizing: border-box;">b</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"next"</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">fromStr</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">" "</span><span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC118" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;|&gt;</span></div><div class="line" id="LC119" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">dField</span><span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">wlink</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">prev</span> <span class="n" style="box-sizing: border-box;">ind</span> <span class="n" style="box-sizing: border-box;">len</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span> <span class="n" style="box-sizing: border-box;">b</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"prev"</span><span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC120" style="box-sizing: border-box; padding-left: 10px; height: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">setSessionData</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">.</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">NextReg</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">r</span></div><div class="line" id="LC120" style="box-sizing: border-box; padding-left: 10px; height: 18px;"><span class="n" style="box-sizing: border-box;"><br></span></div><div class="line" id="LC120" style="box-sizing: border-box; padding-left: 10px; height: 18px;"><span class="n" style="box-sizing: border-box;"><div style="color: rgb(0, 0, 0); font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; line-height: normal; white-space: normal;"><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;">Here the two links have been enclosed in dField elements and now they return a dynamic content: the index of the next element to present. Additionally a HTTP caching element have been added: They are HTTP cache control directives in the HTTP header, but in MFlow they are composable in the way I have mentioned above.</span></span></div><div style="color: rgb(0, 0, 0); font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; line-height: normal; white-space: normal;"><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;">In this case, max-Age means that the content can be stored in the cache for 300 seconds. look at MFlow.Forms.Cache for the different cache control directives.</span></span></div><div style="color: rgb(0, 0, 0); font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; line-height: normal; white-space: normal;"><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;"><br></span></span></div><div style="color: rgb(0, 0, 0); font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; line-height: normal; white-space: normal;"><pre style="word-wrap: break-word; white-space: pre-wrap;">setId('p1iter','e');
setId('p2iter','f');
setId('p3iter','g');
setId('p4iter','h');
setId('p5iter','&lt;a href="/noscript/templates/runtimetemplates/listnames/iter8"&gt;&lt;b&gt;next&lt;/b&gt;&lt;/a&gt; ');
setId('p6iter','&lt;a href="/noscript/templates/runtimetemplates/listnames/iter0"&gt;&lt;b&gt;prev&lt;/b&gt;&lt;/a&gt;');</pre></div><div style="color: rgb(0, 0, 0); font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; line-height: normal; white-space: normal;"><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;"><br></span></span></div><div style="color: rgb(0, 0, 0); font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; line-height: normal; white-space: normal;"><span class="webkit-html-tag" style="font-size: medium;"><span style="font-size: 14.545454025268555px; font-family: arial;"><br></span></span></div><pre style="color: rgb(0, 0, 0); line-height: normal; word-wrap: break-word; white-space: pre-wrap;"><pre style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace; margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); line-height: 18px;"></pre></pre></span></div></pre></pre><pre style="word-wrap: break-word; white-space: pre-wrap;"><br></pre>